services:
  api:
    build:
      context: ./api
    environment:
      - CLIENT_ORIGIN=http://localhost:${CLIENT_HOST_PORT:-5173}
    ports:
      - "${API_HOST_PORT:-5001}:5000"

  client:
    build:
      context: ./client
    ports:
      - "${CLIENT_HOST_PORT:-5173}:5173"
    environment:
      - VITE_API_BASE_URL=http://localhost:${API_HOST_PORT:-5001}
    depends_on:
      - api
